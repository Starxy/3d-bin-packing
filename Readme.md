# 3d 装箱问题

本仓库是山东师范大学最优化方法课程的实验代码，主要用于解决3d装箱问题。

## 问题描述

三维装箱问题(3D Bin Packing Problem)是一个典型的组合优化问题。在本项目中,具体问题描述如下:

给定:

1. n个长方体物品,每个物品i具有固定的:
   - 长度(length_i)
   - 宽度(width_i)
   - 高度(height_i)
2. 若干个相同规格的长方体容器,每个容器具有:
   - 固定长度(L)
   - 固定宽度(W)
   - 固定高度(H)

约束条件:

1. 物品放置时必须与容器边缘平行
2. 物品的长宽高不允许旋转互换(即保持固定方向)
3. 物品之间不能重叠
4. 所有物品必须完全放置在容器内部

优化目标:

1. 主要目标:使用最少数量的容器完成所有物品的装载
2. 次要目标:
   - 最大化容器空间利用率
   - 保证装载方案的可实现性

这是一个NP-hard问题,随着物品数量的增加,问题的复杂度呈指数级增长。本项目旨在通过改进的智能优化算法,为该问题提供高效的求解方案。

## 算法设计

### 1. 主要算法选择

本项目采用改进版遗传算法(Improved Genetic Algorithm, IGA)作为主要算法。选择理由：

- 遗传算法适合解决组合优化问题
- 在3D装箱问题中可以很好地编码表示解决方案
- 具有较强的全局搜索能力
- 容易进行改进和创新

### 2. 算法改进

针对3D装箱问题，我们提出一种混合遗传-模拟退火算法(Hybrid GA-SA Algorithm)，具体改进如下：

1. **染色体编码设计**
   - 双层编码结构:装箱顺序+放置策略
   - 装箱顺序采用排列编码
   - 放置策略包含多个权重参数
   - 确保编码满足所有约束条件

2. **改进的遗传操作**
   - 使用顺序交叉(OX)处理装箱顺序
   - 采用算术交叉处理策略参数
   - 引入精英保留机制
   - 动态调整种群多样性

3. **模拟退火增强**
   - 在变异操作中嵌入模拟退火机制
   - 提供局部搜索能力
   - 自适应调整搜索范围
   - 平衡全局探索和局部开发

4. **空间管理策略**
   - 可放置点记录方法
   - 水平和垂直参考线引导
   - 动态更新可用空间
   - 优化空间利用率

5. **适应度评价**
   - 多目标评价函数
   - 考虑填充率和高度利用
   - 引入惩罚因子
   - 动态权重调整

### 3. 对比算法

1. **随机放置算法(Random Placement, RP)**
   - 随机选择物品和放置位置
   - 实现简单,可作为基准算法
   - 空间利用率较低但可提供参考标准

2. **首次适配算法(First Fit, FF)**
   - 按体积、高度、宽度、长度多级排序,优先放置大物品
   - 使用位置缓存优化查找效率
   - 采用分组策略,相似体积的物品放在一起
   - 优先考虑底部位置放置,提高稳定性
   - 动态更新可放置点集合,包括物品顶部和侧面位置
   - 快速体积检查剪枝,提前排除不可行位置
   - 具有较好的空间利用率和运行效率

3. **最差适配算法(Worst Fit, WF)**
   - 优先选择剩余空间最大的容器放置物品
   - 通过维护容器剩余空间的有序列表实现快速选择
   - 倾向于均衡使用所有容器
   - 可以避免出现某些容器过度拥挤的情况
   - 实现相对复杂但空间利用更均匀

### 4. 实验对比方案

1. **性能指标**
   - 容器利用率
   - 算法运行时间
   - 所需容器数量
   - 装箱稳定性

2. **测试数据集**
   - 小规模数据集（20-50个物品）
   - 中等规模数据集（100-200个物品）
   - 大规模数据集（500+个物品）

3. **实验设计**
   - 每个算法重复运行30次
   - 记录不同算法装箱率的平均值、最优值、标准差，给出箱线图展示
   - 给出不同规模数据集之间的不同算法对比结果
   - 给出不同算法的装箱示例图

### 5. 重点关注内容

1. 编码方案的设计
2. 约束条件的处理
3. 参数的调优
4. 实验数据的统计分析

## 课程要求

```text

最优化方法课程论文要求及评价依据

1. 任选一类（智能）优化算法，完成以下任务：
    a) 对该（智能）优化算法进行适当改进；
    b) 完成三维装箱问题求解。假设有n个长方体物品以及不定数量的长方体容器，它们均具有长、宽、高的属性，物品不允许旋转（即物品的长宽高不可以互换，只能保持与容器边缘平行的状态下放入）。如何合理地将物品放置到容器中且所需容器数量最小；
    c) 完成与其他经典优化算法在上述三维装箱问题上的对比验证。

2. 评价依据包括：
    a) 课程论文包括题目、摘要、关键词、引言、相关工作、模型、实验、总结、参考文献等部分；
    b) 内容撰写认真，格式规范，模型描述清晰，参数讨论及对比验证充分，图表结果完备；
    c) 优化算法具有一定新颖性（包括个人对算法的改进、思考和讨论）。

3. 提交内容：
    a) 纸质版（电子版）课程论文（1月6日之前以班级为单位提交，需先完成查重环节）。
```
